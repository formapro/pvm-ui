<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>
<body>
<script type="text/javascript" src="js/viz.js"></script>
<script type="text/javascript" src="js/full.render.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/2.6.5/svg.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script>
    const param = 'digraph G {\n' +
        '  graph [rankdir="TB" ranksep=1]\n' +
        '  "__start" [label="Start" color="blue" shape="circle"]\n' +
        '  "__end" [label="End" color="red" shape="circle"]\n' +
        '  "8589fb78-38aa-4061-8ad0-59046eb0faf4" [label="Track Lead Event: campaign_started" shape="box"]\n' +
        '  "94f01cde-bad9-49ee-b30d-92c3f80399bd" [label="Send Email" shape="box"]\n' +
        '  "9355de33-51fa-4627-ac43-094ecc96f73a" [label="Track Lead Event: email_sent" shape="box"]\n' +
        '  "a5b1a026-dee0-4abb-8402-282970171b85" [label="Node IN" shape="box"]\n' +
        '  "d2e8eb2f-c9fd-4321-b5c7-b15127e4543e" [label="Email Opened" shape="box"]\n' +
        '  "900eae60-5b57-4175-911d-41bf8e6062a8" [label="Decision" shape="box"]\n' +
        '  "0c3a3acf-31b2-4548-88e1-6868e8c90bd3" [label="Track Lead Event: email_opened" shape="box"]\n' +
        '  "9c0ab287-fd2c-485c-9321-d56c048948d5" [label="Node IN" shape="box"]\n' +
        '  "cd92449d-ee03-4630-b48d-b4de2bc86043" [label="Page Visited" shape="box"]\n' +
        '  "9df4c0a8-f576-422c-9f7c-cf96374deff7" [label="Decision" shape="box"]\n' +
        '  "311c4ac6-7db6-4fa6-812a-bce44cc4db8f" [label="Adjust Lead Points" shape="box"]\n' +
        '  "ed3da86a-e58e-442f-ba48-ca60f1f2d527" [label="Track Lead Event: page_visited" shape="box"]\n' +
        '  "f16c430a-b9c0-4757-922b-78d44a9a58e2" [label="Node IN" shape="box"]\n' +
        '  "276ba034-dd8e-457a-9778-69d485f1dd51" [label="Decision" shape="box"]\n' +
        '  "81073df4-dadb-4152-8066-aec5c44cd120" [label="Adjust Lead Points" shape="box"]\n' +
        '  "0cdaa4c1-95fa-404b-91c3-d28841d2a054" [label="Track Lead Event: form_submitted" shape="box"]\n' +
        '  "9ca50a4a-7cb8-42d4-9326-c20ae7a531af" [label="Form Submitted" shape="box"]\n' +
        '  "45f379c2-8d8e-4e7d-a7e9-02f1d7a79493" [label="Form Submitted" shape="box"]\n' +
        '  "fca0ec64-b63c-4dfe-a532-27e2f0abaea7" [label="Node IN" shape="box"]\n' +
        '  "6e25716a-e2e7-4af9-90b3-0996fc63272c" [label="Decision" shape="box"]\n' +
        '  "f2d27d30-91d5-4e4e-bfce-3e678292fef2" [label="Adjust Lead Points" shape="box"]\n' +
        '  "c25dbb06-78a5-4808-a783-3c0bb52b6ce6" [label="Track Lead Event: asset_downloaded" shape="box"]\n' +
        '  "9ba0a00f-407f-4ea3-b392-568510b2d83e" [label="Asset Downloaded" shape="box"]\n' +
        '  "7b7b52a1-1e1c-489e-9658-71c516934407" [label="Asset Downloaded" shape="box"]\n' +
        '  "3dbcdb25-c3f5-429d-bcbb-f76430078bd3" [label="Remove lead frmo list(s)" shape="box"]\n' +
        '  "c74b83e1-3718-4486-967e-d572b27a7ffe" [label="Add lead to list(s)" shape="box"]\n' +
        '  "71f89bcc-1901-4124-a029-dba496392808" [label="Track Lead Event: lead_list_modified" shape="box"]\n' +
        '  "4e10c421-9661-442d-86f5-931f7c4f1876" [label="Send Email" shape="box"]\n' +
        '  "10fead28-c9dd-43ec-82c3-a17e39722333" [label="Track Lead Event: email_sent" shape="box"]\n' +
        '  "cf92f1d3-4ec6-4315-88ee-a6058d34d871" [label="Wait" shape="box"]\n' +
        '  "bf853dcb-d508-43c2-a074-f3548dde6afa" [label="Wait" shape="box"]\n' +
        '  "d8d9928e-a93b-4702-ac29-274b47504b8c" [label="Wait" shape="box"]\n' +
        '  "b41c9c87-4d28-421f-8090-b4338f0ae054" [label="Wait" shape="box"]\n' +
        '  "94f01cde-bad9-49ee-b30d-92c3f80399bd" -> "9355de33-51fa-4627-ac43-094ecc96f73a" [label="" color="blue"]\n' +
        '  "9355de33-51fa-4627-ac43-094ecc96f73a" -> "__end" [label="" color="blue"]\n' +
        '  "a5b1a026-dee0-4abb-8402-282970171b85" -> "d2e8eb2f-c9fd-4321-b5c7-b15127e4543e" [label="" color="orange"]\n' +
        '  "d2e8eb2f-c9fd-4321-b5c7-b15127e4543e" -> "900eae60-5b57-4175-911d-41bf8e6062a8" [label="success"]\n' +
        '  "900eae60-5b57-4175-911d-41bf8e6062a8" -> "0c3a3acf-31b2-4548-88e1-6868e8c90bd3" [label="success"]\n' +
        '  "0c3a3acf-31b2-4548-88e1-6868e8c90bd3" -> "__end" [label="success"]\n' +
        '  "9c0ab287-fd2c-485c-9321-d56c048948d5" -> "cd92449d-ee03-4630-b48d-b4de2bc86043" [label="" color="orange"]\n' +
        '  "cd92449d-ee03-4630-b48d-b4de2bc86043" -> "9df4c0a8-f576-422c-9f7c-cf96374deff7" [label="success"]\n' +
        '  "9df4c0a8-f576-422c-9f7c-cf96374deff7" -> "311c4ac6-7db6-4fa6-812a-bce44cc4db8f" [label="success"]\n' +
        '  "311c4ac6-7db6-4fa6-812a-bce44cc4db8f" -> "__end" [label="success"]\n' +
        '  "9df4c0a8-f576-422c-9f7c-cf96374deff7" -> "ed3da86a-e58e-442f-ba48-ca60f1f2d527" [label="success"]\n' +
        '  "ed3da86a-e58e-442f-ba48-ca60f1f2d527" -> "__end" [label="success"]\n' +
        '  "276ba034-dd8e-457a-9778-69d485f1dd51" -> "81073df4-dadb-4152-8066-aec5c44cd120" [label="success"]\n' +
        '  "81073df4-dadb-4152-8066-aec5c44cd120" -> "__end" [label="success"]\n' +
        '  "276ba034-dd8e-457a-9778-69d485f1dd51" -> "0cdaa4c1-95fa-404b-91c3-d28841d2a054" [label="success"]\n' +
        '  "0cdaa4c1-95fa-404b-91c3-d28841d2a054" -> "__end" [label="success"]\n' +
        '  "f16c430a-b9c0-4757-922b-78d44a9a58e2" -> "9ca50a4a-7cb8-42d4-9326-c20ae7a531af" [label="" color="orange"]\n' +
        '  "9ca50a4a-7cb8-42d4-9326-c20ae7a531af" -> "276ba034-dd8e-457a-9778-69d485f1dd51" [label="success"]\n' +
        '  "f16c430a-b9c0-4757-922b-78d44a9a58e2" -> "45f379c2-8d8e-4e7d-a7e9-02f1d7a79493" [label="" color="orange"]\n' +
        '  "45f379c2-8d8e-4e7d-a7e9-02f1d7a79493" -> "276ba034-dd8e-457a-9778-69d485f1dd51" [label="success"]\n' +
        '  "6e25716a-e2e7-4af9-90b3-0996fc63272c" -> "f2d27d30-91d5-4e4e-bfce-3e678292fef2" [label="success"]\n' +
        '  "f2d27d30-91d5-4e4e-bfce-3e678292fef2" -> "__end" [label="success"]\n' +
        '  "6e25716a-e2e7-4af9-90b3-0996fc63272c" -> "c25dbb06-78a5-4808-a783-3c0bb52b6ce6" [label="success"]\n' +
        '  "c25dbb06-78a5-4808-a783-3c0bb52b6ce6" -> "__end" [label="success"]\n' +
        '  "fca0ec64-b63c-4dfe-a532-27e2f0abaea7" -> "9ba0a00f-407f-4ea3-b392-568510b2d83e" [label="" color="orange"]\n' +
        '  "9ba0a00f-407f-4ea3-b392-568510b2d83e" -> "6e25716a-e2e7-4af9-90b3-0996fc63272c" [label="success"]\n' +
        '  "fca0ec64-b63c-4dfe-a532-27e2f0abaea7" -> "7b7b52a1-1e1c-489e-9658-71c516934407" [label="" color="orange"]\n' +
        '  "7b7b52a1-1e1c-489e-9658-71c516934407" -> "6e25716a-e2e7-4af9-90b3-0996fc63272c" [label="success"]\n' +
        '  "3dbcdb25-c3f5-429d-bcbb-f76430078bd3" -> "c74b83e1-3718-4486-967e-d572b27a7ffe" [label=""]\n' +
        '  "c74b83e1-3718-4486-967e-d572b27a7ffe" -> "__end" [label=""]\n' +
        '  "3dbcdb25-c3f5-429d-bcbb-f76430078bd3" -> "71f89bcc-1901-4124-a029-dba496392808" [label=""]\n' +
        '  "71f89bcc-1901-4124-a029-dba496392808" -> "__end" [label=""]\n' +
        '  "4e10c421-9661-442d-86f5-931f7c4f1876" -> "10fead28-c9dd-43ec-82c3-a17e39722333" [label="" color="blue"]\n' +
        '  "10fead28-c9dd-43ec-82c3-a17e39722333" -> "__end" [label="" color="blue"]\n' +
        '  "8589fb78-38aa-4061-8ad0-59046eb0faf4" -> "94f01cde-bad9-49ee-b30d-92c3f80399bd" [label="" color="blue"]\n' +
        '  "8589fb78-38aa-4061-8ad0-59046eb0faf4" -> "9c0ab287-fd2c-485c-9321-d56c048948d5" [label="" color="blue"]\n' +
        '  "8589fb78-38aa-4061-8ad0-59046eb0faf4" -> "fca0ec64-b63c-4dfe-a532-27e2f0abaea7" [label="" color="blue"]\n' +
        '  "94f01cde-bad9-49ee-b30d-92c3f80399bd" -> "a5b1a026-dee0-4abb-8402-282970171b85" [label="" color="blue"]\n' +
        '  "6e25716a-e2e7-4af9-90b3-0996fc63272c" -> "3dbcdb25-c3f5-429d-bcbb-f76430078bd3" [label="success"]\n' +
        '  "a5b1a026-dee0-4abb-8402-282970171b85" -> "cf92f1d3-4ec6-4315-88ee-a6058d34d871" [label="" color="blue"]\n' +
        '  "cf92f1d3-4ec6-4315-88ee-a6058d34d871" -> "900eae60-5b57-4175-911d-41bf8e6062a8" [label="" color="blue"]\n' +
        '  "900eae60-5b57-4175-911d-41bf8e6062a8" -> "4e10c421-9661-442d-86f5-931f7c4f1876" [label="fail" color="blue"]\n' +
        '  "9c0ab287-fd2c-485c-9321-d56c048948d5" -> "bf853dcb-d508-43c2-a074-f3548dde6afa" [label="" color="blue"]\n' +
        '  "bf853dcb-d508-43c2-a074-f3548dde6afa" -> "9df4c0a8-f576-422c-9f7c-cf96374deff7" [label="" color="blue"]\n' +
        '  "9df4c0a8-f576-422c-9f7c-cf96374deff7" -> "4e10c421-9661-442d-86f5-931f7c4f1876" [label="fail" color="blue"]\n' +
        '  "f16c430a-b9c0-4757-922b-78d44a9a58e2" -> "d8d9928e-a93b-4702-ac29-274b47504b8c" [label="" color="blue"]\n' +
        '  "d8d9928e-a93b-4702-ac29-274b47504b8c" -> "276ba034-dd8e-457a-9778-69d485f1dd51" [label="" color="blue"]\n' +
        '  "276ba034-dd8e-457a-9778-69d485f1dd51" -> "4e10c421-9661-442d-86f5-931f7c4f1876" [label="fail" color="blue"]\n' +
        '  "fca0ec64-b63c-4dfe-a532-27e2f0abaea7" -> "b41c9c87-4d28-421f-8090-b4338f0ae054" [label="" color="blue"]\n' +
        '  "b41c9c87-4d28-421f-8090-b4338f0ae054" -> "6e25716a-e2e7-4af9-90b3-0996fc63272c" [label="" color="blue"]\n' +
        '  "6e25716a-e2e7-4af9-90b3-0996fc63272c" -> "4e10c421-9661-442d-86f5-931f7c4f1876" [label="fail" color="blue"]\n' +
        '  "__start" -> "8589fb78-38aa-4061-8ad0-59046eb0faf4" [label="" color="blue"]\n' +
        '  "__start" -> "f16c430a-b9c0-4757-922b-78d44a9a58e2" [label="" color="blue"]\n' +
        '}';
    const workerURL = 'js/full.render.js';
    let viz = new Viz({workerURL});
    function test() {
        let temp = document.getElementsByClassName('node');
        for (let i = 0; i < temp.length; i++) {
            temp[i].setAttribute('data-toggle', 'popover');
            temp[i].classList.add('btn');
            temp[i].setAttribute('data-container', 'body');
            temp[i].setAttribute('data-content', temp[i].getElementsByTagName('text').item(0).innerHTML);
            temp[i].addEventListener('click', $(function () {
                $('[data-toggle="popover"]').popover()
            }));
        }
    }
    viz.renderSVGElement(param)
        .then(function (element) {
            document.body.appendChild(element);
            test();
        })
        .catch(error => {
            viz = new Viz({workerURL});
            console.error(error);
        });
</script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
